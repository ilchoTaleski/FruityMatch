# FruityMatch

## Краток опис:

Апликацијата што ја развивавме беше инспирирана од класичната игра на табла Mastermind. Нашата варијанта Fruity Match користи сличен начин на игра со тоа што за кодни зборови се користат комбинации од овошја.
Имплементиравме игра со реален противник, како и игра против компјутер. Уште повеќе, овозможивме зачувување на корисници и рангирање на истите во однос на освоените поени во текот на играта.

## Упатство за користење:

Доколку играта се стартува прв пат, од играчот ќе биде побарано да креира корисник со внесување на име и одбирање на аватар. Во спротивно, апликацијата се стартува со претходно логираниот корисник (само еден корисник е логиран и прикажан на почетниот екран од креираните корисници).

### Нова игра:

Нова игра се започнува со кликање во било кој дел од почетниот екран. Од корисникот се бара да одбере начин на игра, дали ќе игра против друг корисник или ќе игра против компјутерот. Доколку одбере да игра против друг играч потребно е да се избере корисник од листата на корисници за вториот играч, или доколку не постои да се креира. 
(слика)
На следниот екран се врши избирање на кодовите. Најпрво првиот играч создава код со кликање на овошките од горниот дел на екранот. За успешен код се смета кодот кој има 4 различни овошки. Кога играчот ќе ја состави комбинацијата притиска на копчето "Lock combination" и со притискање на ова копче таа комбинација се зачувува и се крија од другиот играч. Потоа и другиот играч го прави истото.
Откако двајцата играчи ќе ги изберат своите скришни кодови, играта е започната. Доколку играчот одбери да игра против компјутерот, на екранот за бирање на комбинација играчот го бира својот скришен код, додека пак компјутерот генерира свој скришен код. Поентата на играта е да се погоди кодот што го внесил противникот во помалце чекори од противникот.
Во апликацијата е овозможено и упатство за како да се игра играта, како и кои контроли се овозможени и која функција ја имаат истите.

### Упатство за играта
Откако ќе се одберат комбинациите, играчите пробуваат да го погодат кодот на противникот. Играчот кој е на потег е обележан со трепкање на неговитот соодветен аватар. Поставување на код за погодување се прави со одбирање на овошје од големите садови и поставување на целната чинија на таблата. Чиниите врз кои може да се поставува овошје се обележани со црвено.
Поставување на овошје на чиниите се врши на два начини: со влечење на посакуваното овошје врз посакуваната чинија и со двоен клик или десен клик врз посакуваното овошје што го мести овошјето на првата слободна чинија.
Кога играчот ќе биде задоволен со својот избор на овошја за погодување, кликнува на салфетките веднаш до чиниите со овошјата. Со кликнувањето на салфетките се прикажува резултат.
Плавиот резултат Correct Fruit & Position кажува колку од овошјата се точни и на точна позиција, црниот резултат Correct Fruit Incorrect Position кажува колку од останатите овошја се точни но на грешна позиција. Овие резултати помагаат потоа играчите да направат едуцирани претпоставки во следните чекори.
Играта продолжува се додека не се се исполни цела табла со овошја или со победа на едниот играч, или пак со нерешен резултат (доколку и двајцата играчи го погодат кодот во ист број на погодоци).


### Резултати
После секоја завршена игра, се ажурираат бројот на победи, порази и нерешени игри на корисниците. Секоја победа се вреднува со 10 поени, секој нерешен резултат се вреднува со 5 поени и секој пораз се вреднува со 0 поени.
Овие податоци како и другите податоци за корисниците се серилизирааат, што овозможува за Систем за рангирање на најдобрите играчи, кој се прикажува со притискање на "Rankings" на главниот екран.

## Податочни структури

Податоците за апликацијата се групирани на следниот начин:
Секој тип на овојше изведува од класата Fruit. Секоја колекција на овошја изведува од класата FruitCollection. Сите колекции на овојшја заедно ја формираат класата FruitDocument. Постојат класи кои се задолжени за салфетките(Napkin, NapkinCollection) и чиниите(LittlePlate, LittlePlates) на интерфејсот.
Главните информации на секој играч се чуваат во објекти од класата Player. Најпосле информациите и методите на секоја игра се чуваат во класата Game.
Корисниците се чуваат во класата User во која е овозможена сериализација и чии информации се чуваат во папката со име "Users".
Најпосле во класата Automatic Game е имплементиран five-guess алгоритамот на Donald Knuth кој ја овозможува играта против компјутерот. Алгоритамот е базиран на прогресивно редуцирање на можните кодови.
Во методот initializeList, се иницијализираат сите можни кодови кои се 6^4 = 1296 можни комбинации. Со методот deleteImpossible, се бришат сите комбинации кој не се возможни во однос на претходниот резултат. Комбинациите што не се возможни како решение во одност на претходниот резултат, се сите оние што не го даваат истиот резултат за проверената комбинација, па поради тоа тие се исфрлаат од листата.
Методот nextCombinationByMinMax работи на техниката на MinMax, такашто од сите 1296 можни комбинации се бара најповолната, такашто, се пресметува бројот на елементи кои би биле исфрлени при било кој резултат за дадената комбинација. Од сите бројки за сите резултати се бира минималната и се поставува како score на комбинацијата. Потоа се враќа како резултат, комбинацијата која има најголем score.
